name: test_ntp.py
testcases:
  - name: test_if_ntp_is_synchronized_on_
    description: Verify ntp is setup and working correctly
    show_cmd: show ntp status
    #expected_output: True
    expected_output: synchronised
  - name: test_if_ntp_associated_with_peers_on_
    description: Verify ntp peers are correct
    show_cmd: show ntp associations
    # number of ntp associations
    expected_output: 1
  - name: test_if_process_is_running_on_
    description: Verify processes are running
    show_cmd: show processes
    # processes to check
    processes:
      - ntpd
    expected_output: 1
  - name: test_ntp_configuration_on_
    description: Verifies NTP configuration matches the recommended practices 
    show_cmd: null
    # List of NTP servers
    ntp_servers:
      - 169.254.169.123
    ntp_vrf: null
    ntp_intf: null
    expected_output: True
  - name: test_if_ntp_servers_are_reachable_on_
    description: Verifies DNS servers are reachable via ping
    show_cmd: null
    # List of NTP servers
    ntp_servers:
      - 169.254.169.123
    ntp_vrf: null
    expected_output: True